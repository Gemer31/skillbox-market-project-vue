(function(){"use strict";var t={5967:function(t,e,a){var r=a(9242),o=a(7139),i=a(6265),n=a.n(i),s="https://vue-study.skillbox.cc",c=(0,o.MT)({state(){return{cartProducts:[],userAccessKey:null,cartProductsData:[],orderInfo:null}},mutations:{updateOrderInfo(t,e){t.orderInfo=e},resetCart(t){t.cartProducts=[],t.cartProductsData=[]},updateCartProductAmount(t,{productId:e,amount:a}){const r=t.cartProducts.find((t=>t.productId===e));r&&(r.amount=a)},deleteCartProduct(t,{productId:e}){t.cartProducts=t.cartProducts.filter((t=>t.productId!==e))},updateUserAccessKey(t,e){this.state.userAccessKey=e},updateCartProductsData(t,e){t.cartProductsData=e},syncCartProducts(t){t.cartProducts=t.cartProductsData.map((t=>({productId:t.product.id,amount:t.quantity})))}},getters:{cartDetailProducts(t){return t.cartProducts.map((e=>{const{product:a}=t.cartProductsData.find((t=>t.product.id===e.productId));return{...e,product:a}}))},cartTotalPrice(t,e){return e.cartDetailProducts.reduce(((t,e)=>e.product.price*e.amount+t),0)}},actions:{loadOrderInfo(t,e){return n().get(`${s}/api/orders/${e}`,{params:{userAccessKey:t.state.userAccessKey}}).then((e=>{t.commit("updateOrderInfo",e.data)}))},loadCart(t){return n().get(`${s}/api/baskets`,{params:{userAccessKey:t.state.userAccessKey}}).then((e=>{t.state.userAccessKey||(localStorage.setItem("userAccessKey",e.data.user.accessKey),t.commit("updateUserAccessKey",e.data.user.accessKey)),t.commit("updateCartProductsData",e.data.items),t.commit("syncCartProducts")}))},addProductToCart(t,{productId:e,amount:a}){return n().post(`${s}/api/baskets/products`,{productId:e,quantity:a},{params:{userAccessKey:t.state.userAccessKey}}).then((e=>{t.commit("updateCartProductsData",e.data.items),t.commit("syncCartProducts")}))},updateCartProductAmount(t,{productId:e,amount:a}){if(t.commit("updateCartProductAmount",{productId:e,amount:a}),!(a<1))return n().put(`${s}/api/baskets/products`,{productId:e,quantity:a},{params:{userAccessKey:t.state.userAccessKey}}).then((e=>{t.commit("updateCartProductsData",e.data.items)})).catch((()=>{t.commit("syncCartProducts")}))},deleteProductFromCart(t,{productId:e}){return t.commit("deleteCartProduct",{productId:e}),n()["delete"](`${s}/api/baskets/products`,{data:{productId:e},params:{userAccessKey:t.state.userAccessKey}}).then((e=>{t.commit("updateCartProductsData",e.data.items)})).catch((()=>{t.commit("syncCartProducts")}))}}}),l=a(3396),d=a(2268);const u={class:"content container"},m={class:"content__top content__top--catalog"},p=(0,l._)("h1",{class:"content__title"}," Каталог ",-1),_={class:"content__info"},f={class:"content__catalog"},g={class:"catalog"};function h(t,e,a,r,o,i){const n=(0,l.up)("ProductFilter"),s=(0,l.up)("DataLoader"),c=(0,l.up)("DataLoadingError"),h=(0,l.up)("ProductList"),b=(0,l.up)("PaginationBar");return(0,l.wg)(),(0,l.iD)("main",u,[(0,l._)("div",m,[p,(0,l._)("span",_," Найдено товаров: "+(0,d.zw)(i.countProducts),1)]),(0,l._)("div",f,[(0,l.Wm)(n,{"price-from":o.filterPriceFrom,"onUpdate:price-from":e[0]||(e[0]=t=>o.filterPriceFrom=t),"price-to":o.filterPriceTo,"onUpdate:price-to":e[1]||(e[1]=t=>o.filterPriceTo=t),"category-id":o.filterCategoryId,"onUpdate:category-id":e[2]||(e[2]=t=>o.filterCategoryId=t),"color-id":o.filterColorId,"onUpdate:color-id":e[3]||(e[3]=t=>o.filterColorId=t),"current-page":o.currentPage,"onUpdate:current-page":e[4]||(e[4]=t=>o.currentPage=t)},null,8,["price-from","price-to","category-id","color-id","current-page"]),(0,l._)("section",g,[o.productsLoading?((0,l.wg)(),(0,l.j4)(s,{key:0,width:200,height:200})):(0,l.kq)("",!0),o.productsLoadingFailed?((0,l.wg)(),(0,l.j4)(c,{key:1,"svg-height":100,"svg-width":100})):(0,l.kq)("",!0),(0,l.Wm)(h,{products:i.products},null,8,["products"]),i.products.length?((0,l.wg)(),(0,l.j4)(b,{key:2,"current-page":o.currentPage,"onUpdate:current-page":e[5]||(e[5]=t=>o.currentPage=t),"items-count":i.countProducts,"items-per-page":o.productsPerPage},null,8,["current-page","items-count","items-per-page"])):(0,l.kq)("",!0)])])])}const b={class:"catalog__list"};function v(t,e,a,r,o,i){const n=(0,l.up)("ProductItem");return(0,l.wg)(),(0,l.iD)("ul",b,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.products,(t=>((0,l.wg)(),(0,l.iD)("li",{class:"catalog__item",key:t.id},[(0,l.Wm)(n,{product:t},null,8,["product"])])))),128))])}const w=["src"],k={class:"catalog__title"},y={href:"#"},P={class:"catalog__price"},C={class:"colors colors--black"};function D(t,e,a,r,o,i){const n=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(n,{class:"catalog__pic",to:{name:"product",params:{id:a.product.id}}},{default:(0,l.w5)((()=>[(0,l._)("img",{src:a.product.image,alt:"Название товара"},null,8,w)])),_:1},8,["to"]),(0,l._)("h3",k,[(0,l._)("a",y,(0,d.zw)(a.product.name),1)]),(0,l._)("span",P,(0,d.zw)(t.$filters.numberFormat(a.product.price))+" BYN",1),(0,l._)("ul",C,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.product.colors,(t=>((0,l.wg)(),(0,l.iD)("li",{class:"colors__item",key:t.id},[(0,l._)("span",{class:"colors__value",style:(0,d.j5)({"background-color":t.code})},null,4)])))),128))])],64)}var I={name:"ProductItem",props:["product"],data(){return{selectedColorId:this.product.colors[0].id}}},T=a(89);const L=(0,T.Z)(I,[["render",D]]);var x=L,F={name:"ProductList",components:{ProductItem:x},props:["products"]};const N=(0,T.Z)(F,[["render",v]]);var z=N;const $={class:"catalog__pagination pagination"},V={class:"pagination__item"},A=(0,l._)("svg",{width:"8",height:"14",fill:"currentColor"},[(0,l._)("use",{"xlink:href":"#icon-arrow-left"})],-1),M=[A],U={class:"pagination__item"},K=(0,l._)("svg",{width:"8",height:"14",fill:"currentColor"},[(0,l._)("use",{"xlink:href":"#icon-arrow-right"})],-1),E=[K];function W(t,e,a,o,i,n){const s=(0,l.up)("PaginationBarLink");return(0,l.wg)(),(0,l.iD)("ul",$,[(0,l._)("li",V,[(0,l._)("a",{class:(0,d.C_)(["pagination__link pagination__link--arrow",{"pagination__link--disabled":1===a.currentPage}]),href:"#","aria-label":"Предыдущая страница",onClick:e[0]||(e[0]=(0,r.iM)((t=>n.paginate(a.currentPage-1)),["prevent"]))},M,2)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.pages,(t=>((0,l.wg)(),(0,l.iD)("li",{class:"pagination__item",key:t},[(0,l.Wm)(s,{"current-page":a.currentPage,"page-number":t,pages:n.pages,onChangePageClick:e=>n.paginate(t)},null,8,["current-page","page-number","pages","onChangePageClick"])])))),128)),(0,l._)("li",U,[(0,l._)("a",{class:(0,d.C_)(["pagination__link pagination__link--arrow",{"pagination__link--disabled":a.currentPage===n.pages}]),href:"#","aria-label":"Следующая страница",onClick:e[1]||(e[1]=(0,r.iM)((t=>n.paginate(a.currentPage+1)),["prevent"]))},E,2)])])}function j(t,e,a,o,i,n){return n.showWithPageNumber?((0,l.wg)(),(0,l.iD)("a",{key:0,class:(0,d.C_)(["pagination__link",{"pagination__link--current":a.pageNumber===a.currentPage}]),href:"#",onClick:e[0]||(e[0]=(0,r.iM)((e=>t.$emit("changePageClick")),["prevent"]))},(0,d.zw)(a.pageNumber),3)):n.showWithThreeDots?((0,l.wg)(),(0,l.iD)("a",{key:1,class:"pagination__link",href:"#",onClick:e[1]||(e[1]=(0,r.iM)((()=>{}),["prevent"]))},"...")):(0,l.kq)("",!0)}var S={name:"PaginationBarLink",props:["pageNumber","currentPage","pages"],data(){return{pagesAmountBetweenDots:3}},emits:["changePageClick"],computed:{showWithPageNumber(){return 1===this.pageNumber||this.pageNumber===this.pages||1===this.currentPage&&3===this.pageNumber||this.currentPage===this.pages&&this.pageNumber===this.pages-2||Math.abs(this.currentPage-this.pageNumber)<=1},showWithThreeDots(){return console.log("currentPage: ",this.currentPage,", pageNumber: ",this.pageNumber,"; result: ",2===Math.abs(this.currentPage-this.pageNumber)),1===this.currentPage&&4===this.pageNumber||this.currentPage===this.pages&&this.pageNumber===this.pages-3||2===Math.abs(this.currentPage-this.pageNumber)}}};const B=(0,T.Z)(S,[["render",j]]);var O=B,Z={name:"PaginationBar",components:{PaginationBarLink:O},props:["currentPage","itemsCount","itemsPerPage"],emits:["update:currentPage"],methods:{paginate(t){t>0&&t<=this.pages&&this.$emit("update:currentPage",t)}},computed:{pages(){return Math.ceil(this.itemsCount/this.itemsPerPage)}}};const H=(0,T.Z)(Z,[["render",W]]);var Y=H;const q={class:"filter"},X=(0,l._)("h2",{class:"filter__title"},"Фильтры",-1),G={class:"form__block"},J=(0,l._)("legend",{class:"form__legend"},"Цена",-1),Q={for:"priceFromId",class:"form__label form__label--price"},R=(0,l._)("span",{class:"form__value"},"От",-1),tt={for:"priceToId",class:"form__label form__label--price"},et=(0,l._)("span",{class:"form__value"},"До",-1),at={class:"form__block"},rt=(0,l._)("legend",{class:"form__legend"},"Категория",-1),ot={for:"categoriesSelectId",class:"form__label form__label--select"},it=(0,l._)("option",{value:"all"},"Все категории",-1),nt=["value"],st={class:"form__block"},ct=(0,l._)("legend",{class:"form__legend"},"Цвет",-1),lt={class:"colors"},dt=["for"],ut=["id","value"],mt=(0,l._)("button",{class:"filter__submit button button--primery",type:"submit"}," Применить ",-1);function pt(t,e,a,o,i,n){return(0,l.wg)(),(0,l.iD)("aside",q,[X,(0,l._)("form",{class:"filter__form form",action:"#",method:"get",onSubmit:e[5]||(e[5]=(0,r.iM)(((...t)=>n.submit&&n.submit(...t)),["prevent"]))},[(0,l._)("fieldset",G,[J,(0,l._)("label",Q,[(0,l.wy)((0,l._)("input",{id:"priceFromId",class:"form__input",type:"text",name:"min-price","onUpdate:modelValue":e[0]||(e[0]=t=>i.currentPriceFrom=t)},null,512),[[r.nr,i.currentPriceFrom,void 0,{number:!0}]]),R]),(0,l._)("label",tt,[(0,l.wy)((0,l._)("input",{id:"priceToId",class:"form__input",type:"text",name:"max-price","onUpdate:modelValue":e[1]||(e[1]=t=>i.currentPriceTo=t)},null,512),[[r.nr,i.currentPriceTo,void 0,{number:!0}]]),et])]),(0,l._)("fieldset",at,[rt,(0,l._)("label",ot,[(0,l.wy)((0,l._)("select",{id:"categoriesSelectId",class:"form__select",type:"text",name:"category","onUpdate:modelValue":e[2]||(e[2]=t=>i.currentCategoryId=t)},[it,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.categories,(t=>((0,l.wg)(),(0,l.iD)("option",{value:t.id,key:t.id},(0,d.zw)(t.title),9,nt)))),128))],512),[[r.bM,i.currentCategoryId]])])]),(0,l._)("fieldset",st,[ct,(0,l._)("ul",lt,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.colors,(t=>((0,l.wg)(),(0,l.iD)("li",{class:"colors__item",key:t.id},[(0,l._)("label",{for:t.id,class:"colors__label"},[(0,l.wy)((0,l._)("input",{id:t.id,class:"colors__radio sr-only",type:"radio",name:"color",value:t.id,"onUpdate:modelValue":e[3]||(e[3]=t=>i.currentColorId=t)},null,8,ut),[[r.G2,i.currentColorId]]),(0,l._)("span",{class:"colors__value",style:(0,d.j5)({"background-color":t.code})},null,4)],8,dt)])))),128))])]),mt,(0,l._)("button",{class:"filter__reset button button--second",type:"button",onClick:e[4]||(e[4]=(0,r.iM)(((...t)=>n.reset&&n.reset(...t)),["prevent"]))}," Сбросить ")],32)])}var _t={name:"ProductFilter",props:["priceFrom","priceTo","categoryId","colorId","currentPage"],data(){return{currentPriceFrom:0,currentPriceTo:0,currentCategoryId:"all",currentColorId:"",categoriesData:null,colorsData:null}},watch:{priceFrom(t){this.currentPriceFrom=t},priceTo(t){this.currentPriceTo=t},categoryId(t){this.currentCategoryId=t},colorId(t){this.currentColorId=t}},methods:{submit(){this.$emit("update:priceFrom",this.currentPriceFrom),this.$emit("update:priceTo",this.currentPriceTo),this.$emit("update:categoryId",this.currentCategoryId),this.$emit("update:colorId",this.currentColorId),this.$emit("update:currentPage",1)},reset(){this.$emit("update:priceFrom",0),this.$emit("update:priceTo",0),this.$emit("update:categoryId","all"),this.$emit("update:colorId",""),this.$emit("update:currentPage",1)},loadCategories(){n().get(`${s}/api/productCategories`).then((t=>{this.categoriesData=t.data}))},loadColors(){n().get(`${s}/api/colors`).then((t=>{this.colorsData=t.data}))}},created(){this.loadCategories(),this.loadColors()},computed:{colors(){return this.colorsData?this.colorsData.items:[]},categories(){return this.categoriesData?this.categoriesData.items:[]}}};const ft=(0,T.Z)(_t,[["render",pt]]);var gt=ft;const ht=["width","height"],bt=(0,l.uE)('<defs data-v-7c1c2473><rect id="spinner" x="46.5" y="40" width="7" height="20" rx="2" ry="2" transform="translate(0 -30)" data-v-7c1c2473></rect></defs><use xlink:href="#spinner" transform="rotate(0 50 50)" data-v-7c1c2473><animate attributeName="opacity" values="0;1;0" dur="1s" begin="0s" repeatCount="indefinite" data-v-7c1c2473></animate><animateTransform attributeName="transform" type="translate" additive="sum" dur="1s" begin="0s" repeatCount="indefinite" from="0 0" to="10" data-v-7c1c2473></animateTransform><animateTransform attributeName="transform" type="skewX" additive="sum" dur="1s" begin="0s" repeatCount="indefinite" from="0" to="20" data-v-7c1c2473></animateTransform></use><use xlink:href="#spinner" transform="rotate(30 50 50)" data-v-7c1c2473><animate attributeName="opacity" values="0;1;0" dur="1s" begin="0.08s" repeatCount="indefinite" data-v-7c1c2473></animate><animateTransform attributeName="transform" type="translate" additive="sum" dur="1s" begin="0.08s" repeatCount="indefinite" from="0 0" to="10" data-v-7c1c2473></animateTransform><animateTransform attributeName="transform" type="skewX" additive="sum" dur="1s" begin="0.08s" repeatCount="indefinite" from="0" to="20" data-v-7c1c2473></animateTransform></use><use xlink:href="#spinner" transform="rotate(60 50 50)" data-v-7c1c2473><animate attributeName="opacity" values="0;1;0" dur="1s" begin="0.16s" repeatCount="indefinite" data-v-7c1c2473></animate><animateTransform attributeName="transform" type="translate" additive="sum" dur="1s" begin="0.16s" repeatCount="indefinite" from="0 0" to="10" data-v-7c1c2473></animateTransform><animateTransform attributeName="transform" type="skewX" additive="sum" dur="1s" begin="0.16s" repeatCount="indefinite" from="0" to="20" data-v-7c1c2473></animateTransform></use><use xlink:href="#spinner" transform="rotate(90 50 50)" data-v-7c1c2473><animate attributeName="opacity" values="0;1;0" dur="1s" begin="0.24s" repeatCount="indefinite" data-v-7c1c2473></animate><animateTransform attributeName="transform" type="translate" additive="sum" dur="1s" begin="0.24s" repeatCount="indefinite" from="0 0" to="10" data-v-7c1c2473></animateTransform><animateTransform attributeName="transform" type="skewX" additive="sum" dur="1s" begin="0.24s" repeatCount="indefinite" from="0" to="20" data-v-7c1c2473></animateTransform></use><use xlink:href="#spinner" transform="rotate(120 50 50)" data-v-7c1c2473><animate attributeName="opacity" values="0;1;0" dur="1s" begin="0.32s" repeatCount="indefinite" data-v-7c1c2473></animate><animateTransform attributeName="transform" type="translate" additive="sum" dur="1s" begin="0.32s" repeatCount="indefinite" from="0 0" to="10" data-v-7c1c2473></animateTransform><animateTransform attributeName="transform" type="skewX" additive="sum" dur="1s" begin="0.32s" repeatCount="indefinite" from="0" to="20" data-v-7c1c2473></animateTransform></use><use xlink:href="#spinner" transform="rotate(150 50 50)" data-v-7c1c2473><animate attributeName="opacity" values="0;1;0" dur="1s" begin="0.4s" repeatCount="indefinite" data-v-7c1c2473></animate><animateTransform attributeName="transform" type="translate" additive="sum" dur="1s" begin="0.4s" repeatCount="indefinite" from="0 0" to="10" data-v-7c1c2473></animateTransform><animateTransform attributeName="transform" type="skewX" additive="sum" dur="1s" begin="0.4s" repeatCount="indefinite" from="0" to="20" data-v-7c1c2473></animateTransform></use><use xlink:href="#spinner" transform="rotate(180 50 50)" data-v-7c1c2473><animate attributeName="opacity" values="0;1;0" dur="1s" begin="0.48s" repeatCount="indefinite" data-v-7c1c2473></animate><animateTransform attributeName="transform" type="translate" additive="sum" dur="1s" begin="0.48s" repeatCount="indefinite" from="0 0" to="10" data-v-7c1c2473></animateTransform><animateTransform attributeName="transform" type="skewX" additive="sum" dur="1s" begin="0.48s" repeatCount="indefinite" from="0" to="20" data-v-7c1c2473></animateTransform></use><use xlink:href="#spinner" transform="rotate(210 50 50)" data-v-7c1c2473><animate attributeName="opacity" values="0;1;0" dur="1s" begin="0.56s" repeatCount="indefinite" data-v-7c1c2473></animate><animateTransform attributeName="transform" type="translate" additive="sum" dur="1s" begin="0.56s" repeatCount="indefinite" from="0 0" to="10" data-v-7c1c2473></animateTransform><animateTransform attributeName="transform" type="skewX" additive="sum" dur="1s" begin="0.56s" repeatCount="indefinite" from="0" to="20" data-v-7c1c2473></animateTransform></use><use xlink:href="#spinner" transform="rotate(240 50 50)" data-v-7c1c2473><animate attributeName="opacity" values="0;1;0" dur="1s" begin="0.64s" repeatCount="indefinite" data-v-7c1c2473></animate><animateTransform attributeName="transform" type="translate" additive="sum" dur="1s" begin="0.64s" repeatCount="indefinite" from="0 0" to="10" data-v-7c1c2473></animateTransform><animateTransform attributeName="transform" type="skewX" additive="sum" dur="1s" begin="0.64s" repeatCount="indefinite" from="0" to="20" data-v-7c1c2473></animateTransform></use><use xlink:href="#spinner" transform="rotate(270 50 50)" data-v-7c1c2473><animate attributeName="opacity" values="0;1;0" dur="1s" begin="0.72s" repeatCount="indefinite" data-v-7c1c2473></animate><animateTransform attributeName="transform" type="translate" additive="sum" dur="1s" begin="0.72s" repeatCount="indefinite" from="0 0" to="10" data-v-7c1c2473></animateTransform><animateTransform attributeName="transform" type="skewX" additive="sum" dur="1s" begin="0.72s" repeatCount="indefinite" from="0" to="20" data-v-7c1c2473></animateTransform></use><use xlink:href="#spinner" transform="rotate(300 50 50)" data-v-7c1c2473><animate attributeName="opacity" values="0;1;0" dur="1s" begin="0.8s" repeatCount="indefinite" data-v-7c1c2473></animate><animateTransform attributeName="transform" type="translate" additive="sum" dur="1s" begin="0.8s" repeatCount="indefinite" from="0 0" to="10" data-v-7c1c2473></animateTransform><animateTransform attributeName="transform" type="skewX" additive="sum" dur="1s" begin="0.8s" repeatCount="indefinite" from="0" to="20" data-v-7c1c2473></animateTransform></use><use xlink:href="#spinner" transform="rotate(330 50 50)" data-v-7c1c2473><animate attributeName="opacity" values="0;1;0" dur="1s" begin="0.88s" repeatCount="indefinite" data-v-7c1c2473></animate><animateTransform attributeName="transform" type="translate" additive="sum" dur="1s" begin="0.88s" repeatCount="indefinite" from="0 0" to="10" data-v-7c1c2473></animateTransform><animateTransform attributeName="transform" type="skewX" additive="sum" dur="1s" begin="0.88s" repeatCount="indefinite" from="0" to="20" data-v-7c1c2473></animateTransform></use>',13),vt=[bt];function wt(t,e,a,r,o,i){return(0,l.wg)(),(0,l.iD)("svg",{class:"data-loader",xmlns:"http://www.w3.org/2000/svg",width:a.width,height:a.height,viewBox:"0 0 100 100",overflow:"visible",fill:"#9eff00"},vt,8,ht)}var kt={name:"DataLoader",props:["width","height"]};const yt=(0,T.Z)(kt,[["render",wt],["__scopeId","data-v-7c1c2473"]]);var Pt=yt;const Ct=t=>((0,l.dD)("data-v-47d9ee56"),t=t(),(0,l.Cn)(),t),Dt={class:"data-loading-error"},It=["width","height"],Tt=Ct((()=>(0,l._)("defs",null,null,-1))),Lt={style:{stroke:"none","stroke-width":"0","stroke-dasharray":"none","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"10",fill:"none","fill-rule":"nonzero",opacity:"1"},transform:"translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"},xt={key:0};function Ft(t,e,a,r,o,i){return(0,l.wg)(),(0,l.iD)("div",Dt,[((0,l.wg)(),(0,l.iD)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:a.svgWidth,height:a.svgHeight,viewBox:"0 0 256 256","xml:space":"preserve"},[Tt,(0,l._)("g",Lt,[(0,l._)("path",{d:"M 85.429 85.078 H 4.571 c -1.832 0 -3.471 -0.947 -4.387 -2.533 c -0.916 -1.586 -0.916 -3.479 0 -5.065 L 40.613 7.455 C 41.529 5.869 43.169 4.922 45 4.922 c 0 0 0 0 0 0 c 1.832 0 3.471 0.947 4.386 2.533 l 40.429 70.025 c 0.916 1.586 0.916 3.479 0.001 5.065 C 88.901 84.131 87.261 85.078 85.429 85.078 z M 45 7.922 c -0.747 0 -1.416 0.386 -1.79 1.033 L 2.782 78.979 c -0.373 0.646 -0.373 1.419 0 2.065 c 0.374 0.647 1.042 1.033 1.789 1.033 h 80.858 c 0.747 0 1.416 -0.387 1.789 -1.033 s 0.373 -1.419 0 -2.065 L 46.789 8.955 C 46.416 8.308 45.747 7.922 45 7.922 L 45 7.922 z M 45 75.325 c -4.105 0 -7.446 -3.34 -7.446 -7.445 s 3.34 -7.445 7.446 -7.445 s 7.445 3.34 7.445 7.445 S 49.106 75.325 45 75.325 z M 45 63.435 c -2.451 0 -4.446 1.994 -4.446 4.445 s 1.995 4.445 4.446 4.445 s 4.445 -1.994 4.445 -4.445 S 47.451 63.435 45 63.435 z M 45 57.146 c -3.794 0 -6.882 -3.087 -6.882 -6.882 V 34.121 c 0 -3.794 3.087 -6.882 6.882 -6.882 c 3.794 0 6.881 3.087 6.881 6.882 v 16.144 C 51.881 54.06 48.794 57.146 45 57.146 z M 45 30.239 c -2.141 0 -3.882 1.741 -3.882 3.882 v 16.144 c 0 2.141 1.741 3.882 3.882 3.882 c 2.14 0 3.881 -1.741 3.881 -3.882 V 34.121 C 48.881 31.98 47.14 30.239 45 30.239 z",style:(0,d.j5)([{stroke:"none","stroke-width":"1","stroke-dasharray":"none","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"10","fill-rule":"nonzero",opacity:"1"},{fill:a.svgColor||"black"}]),transform:" matrix(1 0 0 1 0 0) ","stroke-linecap":"round"},null,4)])],8,It)),a.noMessage?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("span",xt,"Ooooops! Something went wrong..."))])}var Nt={name:"DataLoadingError",props:["svgWidth","svgHeight","svgColor","noMessage"]};const zt=(0,T.Z)(Nt,[["render",Ft],["__scopeId","data-v-47d9ee56"]]);var $t=zt,Vt={name:"MainPage",components:{ProductList:z,PaginationBar:Y,ProductFilter:gt,DataLoader:Pt,DataLoadingError:$t},data(){return{filterPriceFrom:0,filterPriceTo:0,filterCategoryId:"all",filterColorId:"",currentPage:1,productsPerPage:3,productsData:null,productsLoading:!1,productsLoadingFailed:!1}},computed:{products(){return this.productsData?this.productsData.items.map((t=>({...t,image:t.image.file.url}))):[]},countProducts(){return this.productsData?this.productsData.pagination.total:0}},methods:{loadProduts(){this.productsLoading=!0,clearTimeout(this.loadProductsTimer),this.loadProductsTimer=setTimeout((()=>{n().get(`${s}/api/products`,{params:{page:this.currentPage,limit:this.productsPerPage,categoryId:this.filterCategoryId,colorId:this.filterColorId,minPrice:this.filterPriceFrom,maxPrice:this.filterPriceTo}}).then((t=>{this.productsData=t.data})).catch((()=>{this.productsLoadingFailed=!0})).then((()=>{this.productsLoading=!1}))}),0)}},watch:{currentPage(){this.loadProduts()},filterPriceFrom(){this.loadProduts()},filterPriceTo(){this.loadProduts()},filterCategoryId(){this.loadProduts()},filterColorId(){this.loadProduts()}},created(){this.loadProduts()}};const At=(0,T.Z)(Vt,[["render",h]]);var Mt=At;const Ut=t=>((0,l.dD)("data-v-a955ee4a"),t=t(),(0,l.Cn)(),t),Kt={key:0,class:"content container product-data-loader"},Et={key:1,class:"content container product-data-loader"},Wt={key:2,class:"content container"},jt={class:"content__top"},St={class:"breadcrumbs"},Bt={class:"breadcrumbs__item"},Ot=(0,l.Uk)(" Каталог "),Zt={class:"breadcrumbs__item"},Ht={class:"breadcrumbs__item"},Yt={class:"breadcrumbs__link"},qt={class:"item"},Xt={class:"item__pics pics"},Gt={class:"pics__wrapper"},Jt=["src","alt"],Qt={class:"item__info"},Rt={class:"item__code"},te={class:"item__title"},ee={class:"item__form"},ae={class:"item__price"},re={class:"form__block"},oe=Ut((()=>(0,l._)("legend",{class:"form__legend"},"Цвет:",-1))),ie={class:"colors"},ne=["for"],se=["id","value"],ce={class:"item__row"},le={class:"form__counter"},de=Ut((()=>(0,l._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,l._)("use",{"xlink:href":"#icon-minus"})],-1))),ue=[de],me=["for"],pe=Ut((()=>(0,l._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,l._)("use",{"xlink:href":"#icon-plus"})],-1))),_e=[pe],fe=["disabled"];function ge(t,e,a,o,i,n){const s=(0,l.up)("DataLoader"),c=(0,l.up)("DataLoadingError"),u=(0,l.up)("router-link"),m=(0,l.up)("DataProcessedSuccessfullyItem");return i.productLoading?((0,l.wg)(),(0,l.iD)("main",Kt,[(0,l.Wm)(s,{width:200,height:200})])):i.productLoadingFailed?((0,l.wg)(),(0,l.iD)("main",Et,[(0,l.Wm)(c,{"svg-height":100,"svg-width":100})])):((0,l.wg)(),(0,l.iD)("main",Wt,[(0,l._)("div",jt,[(0,l._)("ul",St,[(0,l._)("li",Bt,[(0,l.Wm)(u,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,l.w5)((()=>[Ot])),_:1})]),(0,l._)("li",Zt,[(0,l.Wm)(u,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,d.zw)(n.category.title),1)])),_:1})]),(0,l._)("li",Ht,[(0,l._)("a",Yt,(0,d.zw)(n.product.name),1)])])]),(0,l._)("section",qt,[(0,l._)("div",Xt,[(0,l._)("div",Gt,[(0,l._)("img",{width:"570",height:"570",src:n.product.image.file.url,alt:n.product.name},null,8,Jt)])]),(0,l._)("div",Qt,[(0,l._)("span",Rt,"Артикул: "+(0,d.zw)(n.product.id),1),(0,l._)("h2",te,(0,d.zw)(n.product.name),1),(0,l._)("div",ee,[(0,l._)("form",{class:"form",action:"#",method:"POST",onSubmit:e[4]||(e[4]=(0,r.iM)(((...t)=>n.addToCart&&n.addToCart(...t)),["prevent"]))},[(0,l._)("b",ae,(0,d.zw)(t.$filters.numberFormat(n.product.price))+" BYN",1),(0,l._)("fieldset",re,[oe,(0,l._)("ul",ie,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.product.colors,(a=>((0,l.wg)(),(0,l.iD)("li",{class:"colors__item",key:n.product.id+"-"+a.id},[(0,l._)("label",{for:n.product.id+"-"+a.id,class:"colors__label"},[(0,l.wy)((0,l._)("input",{class:"colors__radio sr-only",type:"radio",id:n.product.id+"-"+t.colorId,value:a.id,"onUpdate:modelValue":e[0]||(e[0]=t=>n.currentColor=t)},null,8,se),[[r.G2,n.currentColor]]),(0,l._)("span",{class:"colors__value",style:(0,d.j5)({"background-color":a.code})},null,4)],8,ne)])))),128))])]),(0,l._)("div",ce,[(0,l._)("div",le,[(0,l._)("button",{type:"button","aria-label":"Убрать один товар",onClick:e[1]||(e[1]=(0,r.iM)((t=>i.amount=i.amount-1),["prevent"]))},ue),(0,l._)("label",{for:t.counter},[(0,l.wy)((0,l._)("input",{id:"counter",type:"text",name:"count","onUpdate:modelValue":e[2]||(e[2]=t=>i.amount=t)},null,512),[[r.nr,i.amount,void 0,{number:!0}]])],8,me),(0,l._)("button",{type:"button","aria-label":"Добавить один товар",onClick:e[3]||(e[3]=(0,r.iM)((t=>i.amount=i.amount+1),["prevent"]))},_e)]),(0,l._)("button",{class:"button button--primery",type:"submit",disabled:i.productAddSending}," В корзину ",8,fe),i.productAddSending?((0,l.wg)(),(0,l.j4)(s,{key:0,width:50,height:50})):(0,l.kq)("",!0),i.productAdded?((0,l.wg)(),(0,l.j4)(m,{key:1,width:50,height:50})):(0,l.kq)("",!0)])],32)])])])]))}const he=t=>((0,l.dD)("data-v-6580383b"),t=t(),(0,l.Cn)(),t),be=["width","height"],ve=he((()=>(0,l._)("defs",null,null,-1))),we=he((()=>(0,l._)("g",{style:{stroke:"none","stroke-width":"0","stroke-dasharray":"none","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"10",fill:"none","fill-rule":"nonzero",opacity:"1"},transform:"translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"},[(0,l._)("path",{d:"M 89.328 2.625 L 89.328 2.625 c -1.701 -2.859 -5.728 -3.151 -7.824 -0.568 L 46.532 45.173 c -0.856 1.055 -2.483 0.997 -3.262 -0.115 l -8.382 -11.97 c -2.852 -4.073 -8.789 -4.335 -11.989 -0.531 l 0 0 c -2.207 2.624 -2.374 6.403 -0.408 9.211 l 17.157 24.502 c 2.088 2.982 6.507 2.977 8.588 -0.011 l 4.925 -7.07 L 89.135 7.813 C 90.214 6.272 90.289 4.242 89.328 2.625 z",style:{stroke:"none","stroke-width":"1","stroke-dasharray":"none","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"10",fill:"#9eff00","fill-rule":"nonzero",opacity:"1"},transform:" matrix(1 0 0 1 0 0) ","stroke-linecap":"round"}),(0,l._)("path",{d:"M 45 90 C 20.187 90 0 69.813 0 45 C 0 20.187 20.187 0 45 0 c 6.072 0 11.967 1.19 17.518 3.538 c 2.034 0.861 2.986 3.208 2.125 5.242 c -0.859 2.035 -3.207 2.987 -5.242 2.126 C 54.842 8.978 49.996 8 45 8 C 24.598 8 8 24.598 8 45 c 0 20.402 16.598 37 37 37 c 20.402 0 37 -16.598 37 -37 c 0 -3.248 -0.42 -6.469 -1.249 -9.573 c -0.57 -2.134 0.698 -4.327 2.832 -4.897 c 2.133 -0.571 4.326 0.698 4.896 2.833 C 89.488 37.14 90 41.055 90 45 C 90 69.813 69.813 90 45 90 z",style:{stroke:"none","stroke-width":"1","stroke-dasharray":"none","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"10",fill:"#9eff00","fill-rule":"nonzero",opacity:"1"},transform:" matrix(1 0 0 1 0 0) ","stroke-linecap":"round"})],-1))),ke=[ve,we];function ye(t,e,a,r,o,i){return(0,l.wg)(),(0,l.iD)("svg",{class:"data-processed-successfully",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:a.width,height:a.height,viewBox:"0 0 256 256","xml:space":"preserve"},ke,8,be)}var Pe={name:"DataProcessedSuccessfullyItem",props:["width","height"]};const Ce=(0,T.Z)(Pe,[["render",ye],["__scopeId","data-v-6580383b"]]);var De=Ce,Ie={name:"ProductPage",components:{DataLoadingError:$t,DataLoader:Pt,DataProcessedSuccessfullyItem:De},data(){return{selectedColor:"",selectedImageSrc:"",amount:1,productData:null,productLoading:!1,productLoadingFailed:!1,productAdded:!1,productAddSending:!1}},computed:{product(){return this.productData},category(){return this.productData.category},currentColor:{get(){return this.selectedColor},set(t){this.selectedColor=t}}},methods:{...(0,o.nv)(["addProductToCart"]),addToCart(){this.productAdded=!1,this.productAddSending=!0,this.addProductToCart({productId:this.product.id,amount:this.amount}).then((()=>{this.productAdded=!0,this.productAddSending=!1,setTimeout((()=>{this.productAdded=!1}),2e3)}))},loadProduct(){+this.$route.params.id&&(this.productLoading=!0,this.productLoadingFailed=!1,n().get(`${s}/api/products/${+this.$route.params.id}`).then((t=>{this.productData=t.data})).catch((()=>{this.productLoadingFailed=!0})).then((()=>{this.productLoading=!1})))}},watch:{"$route.params.id":{handler(){this.loadProduct()},immediate:!0}}};const Te=(0,T.Z)(Ie,[["render",ge],["__scopeId","data-v-a955ee4a"]]);var Le=Te;const xe=t=>((0,l.dD)("data-v-2ff8a4a8"),t=t(),(0,l.Cn)(),t),Fe={key:0,class:"content container cart-data-loader"},Ne={key:1,class:"content container cart-data-loader"},ze={key:2,class:"content container"},$e={class:"content__top"},Ve={class:"breadcrumbs"},Ae={class:"breadcrumbs__item"},Me=(0,l.Uk)("Каталог"),Ue=xe((()=>(0,l._)("li",{class:"breadcrumbs__item"},[(0,l._)("a",{class:"breadcrumbs__link"},"Корзина")],-1))),Ke=xe((()=>(0,l._)("h1",{class:"content__title"},"Корзина",-1))),Ee={class:"content__info"},We={class:"cart"},je={class:"cart__form form",action:"#",method:"POST"},Se={class:"cart__field"},Be={class:"cart__list"},Oe={class:"cart__block"},Ze=xe((()=>(0,l._)("p",{class:"cart__desc"}," Мы посчитаем стоимость доставки на следующем этапе ",-1))),He={class:"cart__price"},Ye=(0,l.Uk)(" Итого: "),qe=["disabled","onClick"];function Xe(t,e,a,r,o,i){const n=(0,l.up)("DataLoader"),s=(0,l.up)("DataLoadingError"),c=(0,l.up)("router-link"),u=(0,l.up)("CartItem");return a.cartLoading?((0,l.wg)(),(0,l.iD)("main",Fe,[(0,l.Wm)(n,{width:200,height:200})])):a.cartLoadingFailed?((0,l.wg)(),(0,l.iD)("main",Ne,[(0,l.Wm)(s,{"svg-height":100,"svg-width":100})])):((0,l.wg)(),(0,l.iD)("main",ze,[(0,l._)("div",$e,[(0,l._)("ul",Ve,[(0,l._)("li",Ae,[(0,l.Wm)(c,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,l.w5)((()=>[Me])),_:1})]),Ue]),Ke,(0,l._)("span",Ee,"Количество товаров: "+(0,d.zw)(t.products.length),1)]),(0,l._)("section",We,[(0,l._)("form",je,[(0,l._)("div",Se,[(0,l._)("ul",Be,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.products,(t=>((0,l.wg)(),(0,l.j4)(u,{key:t.productId,item:t},null,8,["item"])))),128))])]),(0,l._)("div",Oe,[Ze,(0,l._)("p",He,[Ye,(0,l._)("span",null,(0,d.zw)(t.$filters.numberFormat(t.totalPrice))+" BYN",1)]),(0,l.Wm)(c,{to:{name:"order"},custom:""},{default:(0,l.w5)((({navigate:e})=>[(0,l._)("button",{class:"cart__button button button--primery",type:"submit",disabled:!t.products.length,onClick:e},"Оформить заказ",8,qe)])),_:1})])])])]))}const Ge={class:"cart__item product"},Je={class:"product__pic"},Qe=["src","alt"],Re={class:"product__title"},ta={class:"product__code"},ea={class:"product__counter form__counter"},aa=(0,l._)("svg",{width:"10",height:"10",fill:"currentColor"},[(0,l._)("use",{"xlink:href":"#icon-minus"})],-1),ra=[aa],oa={for:"counter"},ia=(0,l._)("svg",{width:"10",height:"10",fill:"currentColor"},[(0,l._)("use",{"xlink:href":"#icon-plus"})],-1),na=[ia],sa={class:"product__price"},ca=(0,l._)("svg",{width:"20",height:"20",fill:"currentColor"},[(0,l._)("use",{"xlink:href":"#icon-close"})],-1),la=[ca];function da(t,e,a,o,i,n){return(0,l.wg)(),(0,l.iD)("li",Ge,[(0,l._)("div",Je,[(0,l._)("img",{src:a.item.product.image.file.url,width:"120",height:"120",alt:a.item.product.title},null,8,Qe)]),(0,l._)("h3",Re,(0,d.zw)(a.item.product.title),1),(0,l._)("span",ta,"Артикул: "+(0,d.zw)(a.item.productId),1),(0,l._)("div",ea,[(0,l._)("button",{type:"button","aria-label":"Убрать один товар",onClick:e[0]||(e[0]=(0,r.iM)((t=>n.amount=n.amount-1),["prevent"]))},ra),(0,l._)("label",oa,[(0,l.wy)((0,l._)("input",{id:"counter",type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>n.amount=t),name:"count"},null,512),[[r.nr,n.amount,void 0,{number:!0}]])]),(0,l._)("button",{type:"button","aria-label":"Добавить один товар",onClick:e[2]||(e[2]=(0,r.iM)((t=>n.amount=n.amount+1),["prevent"]))},na)]),(0,l._)("b",sa,(0,d.zw)(t.$filters.numberFormat(a.item.product.price*a.item.amount))+" BYN",1),(0,l._)("button",{class:"product__del button-del",type:"button","aria-label":"Удалить товар из корзины",onClick:e[3]||(e[3]=(0,r.iM)((e=>t.deleteProductFromCart({productId:a.item.productId})),["prevent"]))},la)])}var ua={name:"CartItem",props:["item"],methods:{...(0,o.nv)(["deleteProductFromCart"])},computed:{amount:{get(){return this.item.amount},set(t){this.$store.dispatch("updateCartProductAmount",{productId:this.item.productId,amount:t})}}}};const ma=(0,T.Z)(ua,[["render",da]]);var pa=ma,_a={name:"CartPage",props:["testMess","cartLoading","cartLoadingFailed"],components:{CartItem:pa,DataLoader:Pt,DataLoadingError:$t},data(){return{}},computed:{...(0,o.Se)({products:"cartDetailProducts",totalPrice:"cartTotalPrice"})}};const fa=(0,T.Z)(_a,[["render",Xe],["__scopeId","data-v-2ff8a4a8"]]);var ga=fa;function ha(t,e,a,r,o,i){return(0,l.wg)(),(0,l.iD)("h1",null,"Страница не найдена")}var ba={name:"NotFoundPage"};const va=(0,T.Z)(ba,[["render",ha]]);var wa=va;const ka=t=>((0,l.dD)("data-v-6c405c7e"),t=t(),(0,l.Cn)(),t),ya={class:"content container"},Pa=(0,l.uE)('<div class="content__top" data-v-6c405c7e><ul class="breadcrumbs" data-v-6c405c7e><li class="breadcrumbs__item" data-v-6c405c7e><a class="breadcrumbs__link" href="index.html" data-v-6c405c7e>Каталог</a></li><li class="breadcrumbs__item" data-v-6c405c7e><a class="breadcrumbs__link" href="cart.html" data-v-6c405c7e>Корзина</a></li><li class="breadcrumbs__item" data-v-6c405c7e><a class="breadcrumbs__link" data-v-6c405c7e>Оформление заказа</a></li></ul><h1 class="content__title" data-v-6c405c7e>Корзина</h1></div>',1),Ca={class:"cart"},Da={class:"cart__field"},Ia={class:"cart__data"},Ta={class:"cart__block"},La={class:"cart__orders"},xa={class:"cart__total"},Fa=(0,l.Uk)("Итого: "),Na=(0,l.Uk)(" товара на сумму "),za={key:0,class:"order-sending"},$a={key:1,class:"cart__button button button--primery",type:"submit"},Va={key:0,class:"cart__error form__error-block"},Aa=ka((()=>(0,l._)("h4",null,"Заявка не отправлена!",-1)));function Ma(t,e,a,o,i,n){const s=(0,l.up)("BaseFormText"),c=(0,l.up)("BaseFormTextarea"),u=(0,l.up)("DataLoader");return(0,l.wg)(),(0,l.iD)("main",ya,[Pa,(0,l._)("section",Ca,[(0,l._)("form",{class:"cart__form form",action:"#",method:"POST",onSubmit:e[5]||(e[5]=(0,r.iM)(((...t)=>n.order&&n.order(...t)),["prevent"]))},[(0,l._)("div",Da,[(0,l._)("div",Ia,[(0,l.Wm)(s,{title:"ФИО",placeholder:"Введите ваше полное имя",modelValue:i.formData.name,"onUpdate:modelValue":e[0]||(e[0]=t=>i.formData.name=t),error:i.formError.name},null,8,["modelValue","error"]),(0,l.Wm)(s,{title:"Адрес доставки",placeholder:"Введите ваш адрес",modelValue:i.formData.address,"onUpdate:modelValue":e[1]||(e[1]=t=>i.formData.address=t),error:i.formError.address},null,8,["modelValue","error"]),(0,l.Wm)(s,{title:"Телефон",placeholder:"Введите ваш телефон",modelValue:i.formData.phone,"onUpdate:modelValue":e[2]||(e[2]=t=>i.formData.phone=t),error:i.formError.phone},null,8,["modelValue","error"]),(0,l.Wm)(s,{title:"Email",placeholder:"Введи ваш Email",modelValue:i.formData.email,"onUpdate:modelValue":e[3]||(e[3]=t=>i.formData.email=t),error:i.formError.email},null,8,["modelValue","error"]),(0,l.Wm)(c,{title:"Комментарий к заказу",placeholder:"Ваши пожелания",modelValue:i.formData.comment,"onUpdate:modelValue":e[4]||(e[4]=t=>i.formData.comment=t),error:i.formError.comment},null,8,["modelValue","error"])])]),(0,l._)("div",Ta,[(0,l._)("ul",La,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.products,(t=>((0,l.wg)(),(0,l.iD)("li",{class:"cart__order",key:t.productId},[(0,l._)("h3",null,(0,d.zw)(t.product.title)+" ("+(0,d.zw)(t.amount)+"шт.)",1),(0,l._)("b",null,(0,d.zw)(t.product.price)+" ₽",1),(0,l._)("span",null,"Артикул: "+(0,d.zw)(t.productId),1)])))),128))]),(0,l._)("div",xa,[(0,l._)("p",null,[Fa,(0,l._)("b",null,(0,d.zw)(t.products.length),1),Na,(0,l._)("b",null,(0,d.zw)(t.totalPrice)+" ₽",1)])]),i.formSending?((0,l.wg)(),(0,l.iD)("div",za,[(0,l.Wm)(u,{width:"50",height:"50"})])):((0,l.wg)(),(0,l.iD)("button",$a,"Оформить заказ"))]),i.formErrorMessage?((0,l.wg)(),(0,l.iD)("div",Va,[Aa,(0,l._)("p",null,(0,d.zw)(i.formErrorMessage),1)])):(0,l.kq)("",!0)],32)])])}const Ua=["placeholder"];function Ka(t,e,a,o,i,n){const s=(0,l.up)("BaseFormField");return(0,l.wg)(),(0,l.j4)(s,{title:t.title,error:t.error},{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("input",{class:"form__input",type:"text",placeholder:t.placeholder,"onUpdate:modelValue":e[0]||(e[0]=e=>t.dataValue=e)},null,8,Ua),[[r.nr,t.dataValue]])])),_:1},8,["title","error"])}const Ea={class:"form__label"},Wa={class:"form__value"},ja={key:0,class:"form__error"};function Sa(t,e,a,r,o,i){return(0,l.wg)(),(0,l.iD)("label",Ea,[(0,l.WI)(t.$slots,"default"),(0,l._)("span",Wa,(0,d.zw)(a.title),1),a.error?((0,l.wg)(),(0,l.iD)("span",ja,(0,d.zw)(a.error),1)):(0,l.kq)("",!0)])}var Ba={name:"BaseFormField",props:["title","error"]};const Oa=(0,T.Z)(Ba,[["render",Sa]]);var Za=Oa,Ha={name:"BaseFormText",props:["title","error","placeholder","modelValue"],computed:{dataValue:{get(){return this.value},set(t){this.$emit("update:modelValue",t)}}},components:{BaseFormField:Za}},Ya={name:"BaseFormText",mixins:[Ha]};const qa=(0,T.Z)(Ya,[["render",Ka]]);var Xa=qa;const Ga=["placeholder"];function Ja(t,e,a,o,i,n){const s=(0,l.up)("BaseFormField");return(0,l.wg)(),(0,l.j4)(s,{title:t.title,error:t.error},{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("textarea",{class:"form__input form__input--area",placeholder:t.placeholder,"onUpdate:modelValue":e[0]||(e[0]=e=>t.dataValue=e)},null,8,Ga),[[r.nr,t.dataValue]])])),_:1},8,["title","error"])}var Qa={name:"BaseFormTextarea",mixins:[Ha]};const Ra=(0,T.Z)(Qa,[["render",Ja]]);var tr=Ra,er={name:"OrderPage",components:{BaseFormText:Xa,BaseFormTextarea:tr,DataLoader:Pt},data(){return{formData:{},formError:{},formErrorMessage:"",formSending:!1}},methods:{order(){this.formSending=!0,this.formError={},n().post(`${s}/api/orders`,{...this.formData},{params:{userAccessKey:this.$store.state.userAccessKey}}).then((t=>{this.$store.commit("resetCart"),this.$store.commit("updateOrderInfo",t.data),this.$router.push({name:"orderInfo",params:{id:t.data.id}})})).catch((t=>{this.formError=t.response.data.error.request||{},this.formErrorMessage=t.response.data.error.message})).finally((()=>{this.formSending=!1}))}},computed:{...(0,o.Se)({products:"cartDetailProducts",totalPrice:"cartTotalPrice"})}};const ar=(0,T.Z)(er,[["render",Ma],["__scopeId","data-v-6c405c7e"]]);var rr=ar;const or={key:0,class:"content container product-data-loader"},ir={key:1,class:"content container product-data-loader"},nr={key:2,class:"content container"},sr={class:"content__top"},cr=(0,l.uE)('<ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="index.html"> Каталог </a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="cart.html"> Корзина </a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link"> Оформление заказа </a></li></ul>',1),lr={class:"content__title"},dr=(0,l.Uk)(" Заказ оформлен "),ur={class:"cart"},mr={class:"cart__form form",action:"#",method:"POST"},pr={class:"cart__field"},_r=(0,l._)("p",{class:"cart__message"}," Благодарим за выбор нашего магазина. На Вашу почту придет письмо с деталями заказа. Наши менеджеры свяжутся с Вами в течение часа для уточнения деталей доставки. ",-1),fr={class:"dictionary"},gr={class:"dictionary__item"},hr=(0,l._)("span",{class:"dictionary__key"},"Получатель",-1),br={class:"dictionary__value"},vr={class:"dictionary__item"},wr=(0,l._)("span",{class:"dictionary__key"},"Адрес доставки",-1),kr={class:"dictionary__value"},yr={class:"dictionary__item"},Pr=(0,l._)("span",{class:"dictionary__key"},"Телефон",-1),Cr={class:"dictionary__value"},Dr={class:"dictionary__item"},Ir=(0,l._)("span",{class:"dictionary__key"},"Email",-1),Tr={class:"dictionary__value"},Lr={class:"cart__block"},xr={class:"cart__orders"},Fr={class:"cart__total"},Nr=(0,l.Uk)("Итого: "),zr=(0,l.Uk)(" товара на сумму ");function $r(t,e,a,r,o,i){const n=(0,l.up)("DataLoader"),s=(0,l.up)("DataLoadingError");return o.orderLoading?((0,l.wg)(),(0,l.iD)("main",or,[(0,l.Wm)(n,{width:200,height:200})])):o.orderLoadingFailed?((0,l.wg)(),(0,l.iD)("main",ir,[(0,l.Wm)(s,{"svg-height":100,"svg-width":100})])):((0,l.wg)(),(0,l.iD)("main",nr,[(0,l._)("div",sr,[cr,(0,l._)("h1",lr,[dr,(0,l._)("span",null,(0,d.zw)(i.orderInfo.basket.id),1)])]),(0,l._)("section",ur,[(0,l._)("form",mr,[(0,l._)("div",pr,[_r,(0,l._)("ul",fr,[(0,l._)("li",gr,[hr,(0,l._)("span",br,(0,d.zw)(i.orderInfo.name),1)]),(0,l._)("li",vr,[wr,(0,l._)("span",kr,(0,d.zw)(i.orderInfo.address),1)]),(0,l._)("li",yr,[Pr,(0,l._)("span",Cr,(0,d.zw)(i.orderInfo.phone),1)]),(0,l._)("li",Dr,[Ir,(0,l._)("span",Tr,(0,d.zw)(i.orderInfo.email),1)])])]),(0,l._)("div",Lr,[(0,l._)("ul",xr,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.orderInfo.basket.items,(e=>((0,l.wg)(),(0,l.iD)("li",{class:"cart__order",key:e.id},[(0,l._)("h3",null,(0,d.zw)(e.product.title)+" ("+(0,d.zw)(e.quantity)+" шт.)",1),(0,l._)("b",null,(0,d.zw)(t.$filters.numberFormat(e.product.price))+" ₽",1),(0,l._)("span",null,"Артикул: "+(0,d.zw)(e.id),1)])))),128))]),(0,l._)("div",Fr,[(0,l._)("p",null,[Nr,(0,l._)("b",null,(0,d.zw)(i.orderInfo.basket.items.length),1),zr,(0,l._)("b",null,(0,d.zw)(i.orderInfo.totalPrice)+" ₽",1)])])])])])]))}var Vr={name:"OrderInfoPage",components:{DataLoadingError:$t,DataLoader:Pt},data(){return{orderLoading:!0,orderLoadingFailed:!1}},methods:{...(0,o.nv)(["loadOrderInfo"])},computed:{orderInfo(){return this.$store.state.orderInfo}},created(){this.$store.state.orderInfo?.id!==this.$route.params.id&&this.loadOrderInfo(this.$route.params.id).catch((()=>{this.orderLoadingFailed=!0})).then((()=>{this.orderLoading=!1}))}};const Ar=(0,T.Z)(Vr,[["render",$r]]);var Mr=Ar,Ur=a(2483);const Kr=[{path:"/",name:"main",component:Mt},{path:"/product/:id",name:"product",component:Le},{path:"/cart",name:"cart",component:ga},{path:"/order",name:"order",component:rr},{path:"/order/:id",name:"orderInfo",component:Mr},{path:"/:catchAll(.*)",name:"notFound",component:wa}];var Er=(0,Ur.p7)({history:(0,Ur.r5)(),routes:Kr});function Wr(t,e,a,r,o,i){const n=(0,l.up)("HeaderView"),s=(0,l.up)("router-view"),c=(0,l.up)("FooterView");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(n,{"cart-loading":o.cartLoading,"cart-loading-failed":o.cartLoadingFailed},null,8,["cart-loading","cart-loading-failed"]),(0,l.Wm)(s,{"cart-loading":o.cartLoading,"cart-loading-failed":o.cartLoadingFailed},null,8,["cart-loading","cart-loading-failed"]),(0,l.Wm)(c)],64)}const jr={class:"header"},Sr={class:"header__wrapper container"},Br=(0,l._)("span",{class:"header__info"},"Каталог",-1),Or=(0,l._)("a",{class:"header__logo",href:"#"},[(0,l._)("img",{src:"img/svg/logo-tech.svg",alt:"Логотип интернет магазина Технозавррр",width:"190",height:"33"})],-1),Zr=(0,l._)("a",{class:"header__tel",href:"tel:8 800 600 90 09"},"8 800 600 90 09",-1);function Hr(t,e,a,r,o,i){const n=(0,l.up)("DataLoader"),s=(0,l.up)("DataLoadingError"),c=(0,l.up)("CartIndicator");return(0,l.wg)(),(0,l.iD)("header",jr,[(0,l._)("div",Sr,[Br,Or,Zr,a.cartLoading?((0,l.wg)(),(0,l.j4)(n,{key:0,width:30,height:30})):a.cartLoadingFailed?((0,l.wg)(),(0,l.j4)(s,{key:1,"svg-height":30,"svg-width":30,"no-message":!0,"svg-color":"white"})):((0,l.wg)(),(0,l.j4)(c,{key:2}))])])}const Yr=(0,l._)("svg",{width:"30",height:"21",fill:"currentColor"},[(0,l._)("use",{"xlink:href":"#icon-cart"})],-1),qr={class:"header__count","aria-label":"Количество товаров"};function Xr(t,e,a,r,o,i){const n=(0,l.up)("router-link");return(0,l.wg)(),(0,l.j4)(n,{class:"header__cart","aria-label":"Корзина с товарами",to:{name:"cart"}},{default:(0,l.w5)((()=>[Yr,(0,l._)("span",qr,(0,d.zw)(t.$store.state.cartProducts.length),1)])),_:1})}var Gr={name:"CartIndicator"};const Jr=(0,T.Z)(Gr,[["render",Xr]]);var Qr=Jr,Rr={name:"HeaderView",props:["cartLoading","cartLoadingFailed"],components:{CartIndicator:Qr,DataLoader:Pt,DataLoadingError:$t}};const to=(0,T.Z)(Rr,[["render",Hr]]);var eo=to;const ao={class:"footer"},ro=(0,l.uE)('<div class="footer__wrapper container"><ul class="footer__links"><li><a class="footer__link" href="#"> Каталог </a></li><li><a class="footer__link" href="tel:88006009009"> 8 800 600 90 09 </a></li><li><a class="footer__link" href="mailto:hi@technozavrrr.com"> hi@technozavrrr.com </a></li><li><a class="footer__link" href="#"> Распродажа </a></li><li><a class="footer__link footer__link--medium" href="#"> Заказать звонок </a></li></ul><ul class="footer__social social"><li class="social__item"><a class="social__link" href="#" aria-label="Вконтакте"><svg width="20" height="11" fill="currentColor"><use xlink:href="#icon-vk"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Инстаграм"><svg width="17" height="17" fill="currentColor"><use xlink:href="#icon-insta"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Facebook"><svg width="17" height="17" fill="currentColor"><use xlink:href="#icon-facebook"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Twitter"><svg width="17" height="14" fill="currentColor"><use xlink:href="#icon-twitter"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Telegram"><svg width="19" height="17" fill="currentColor"><use xlink:href="#icon-telegram"></use></svg></a></li></ul><p class="footer__desc"> Все права на материалы, находящиеся на сайте, охраняются в соответствии с законодательством РФ, в том числе об авторском праве и смежных правах. </p><ul class="footer__data"><li><a class="footer__link" href="#" target="_blank" rel="noopener" type="application/pdf"> Политика конфиденциальности </a></li><li><a class="footer__link" href="#" target="_blank" rel="noopener" type="application/pdf"> Публичная оферта </a></li></ul><span class="footer__copyright"> © 2020 Технозавррр </span></div>',1),oo=[ro];function io(t,e,a,r,o,i){return(0,l.wg)(),(0,l.iD)("footer",ao,oo)}var no={name:"FooterView"};const so=(0,T.Z)(no,[["render",io]]);var co=so,lo={name:"App",components:{HeaderView:eo,FooterView:co},data(){return{currentPage:"main",currentPageParams:{},cartLoading:!0,cartLoadingFailed:!1}},created(){const t=localStorage.getItem("userAccessKey");t&&this.updateUserAccessKey(t),this.loadCart().catch((()=>{this.cartLoadingFailed=!0})).then((()=>{this.cartLoading=!1}))},methods:{...(0,o.nv)(["loadCart"]),...(0,o.OI)(["updateUserAccessKey"])}};const uo=(0,T.Z)(lo,[["render",Wr]]);var mo=uo;const po=(0,r.ri)(mo);po.use(Er),po.use(c),po.config.globalProperties.$filters={numberFormat(t){return(new Intl.NumberFormat).format(t)}},po.mount("#app")}},e={};function a(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,r,o,i){if(!r){var n=1/0;for(d=0;d<t.length;d++){r=t[d][0],o=t[d][1],i=t[d][2];for(var s=!0,c=0;c<r.length;c++)(!1&i||n>=i)&&Object.keys(a.O).every((function(t){return a.O[t](r[c])}))?r.splice(c--,1):(s=!1,i<n&&(n=i));if(s){t.splice(d--,1);var l=o();void 0!==l&&(e=l)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[r,o,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,i,n=r[0],s=r[1],c=r[2],l=0;if(n.some((function(e){return 0!==t[e]}))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(c)var d=c(a)}for(e&&e(r);l<n.length;l++)i=n[l],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(d)},r=self["webpackChunkskillbox_market_project"]=self["webpackChunkskillbox_market_project"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(5967)}));r=a.O(r)})();
//# sourceMappingURL=app.96f18ea8.js.map